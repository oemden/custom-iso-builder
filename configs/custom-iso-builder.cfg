# # ================================
# Custom ISO Builder Configuration
# Version: 0.2.0
# # ================================
# This is an example configuration file for the Custom ISO Builder.
# Copy this file to 'custom-iso-builder.cfg' and modify as needed.

# --- Dependency Management ---
# Auto-install missing dependencies (xorriso, isolinux, preseed-creator)
# Set to false to only check and report missing dependencies without installing
AUTO_INSTALL_DEPS=true

# --- ISO Source Control ---
# Re-download the source Debian ISO even if it already exists locally
OVERRIDE_EXISTING_SOURCE_ISO=false

# Overwrite existing custom ISO if it exists
# Set to false to prevent accidentally overwriting your custom ISOs
OVERRIDE_EXISTING_CUSTOM_ISO=true

# --- Upload Configuration ---
# Upload the custom ISO to a remote target (requires SSH connectivity)
# Set to false to skip upload and keep the ISO local only
UPLOAD_CUSTOM_ISO=true

# Validate SSH target connectivity before attempting upload
# Set to false to skip SSH validation (not recommended)
VALIDATE_SSH_TARGET=true

# --- Cleanup ---
# Keep the working directory after ISO creation
# Set to true for debugging or to inspect intermediate files
KEEP_WORKING_DIRECTORY=false

# --- Logging ---
# Enable verbose/debug output for detailed logging
# Helpful for troubleshooting issues
VERBOSE_MODE=true

# --- VMware ESXi Configuration ---
# ## Uncomment only to override ENV variables for VMware ESXi upload
# SSH host configuration name from your ~/.ssh/config file
# Example SSH config entry:
#   Host hyper03l
#       HostName 192.168.1.100
#       User root
#       IdentityFile ~/.ssh/id_rsa
# --------------------------------------
# VMWARE_SSH_HOST_CONFIG=my_esxi_host         # SSH host from ~/.ssh/config
# VMWARE_DATASTORE=my_datastorage01
# VMWARE_ISO_DIRPATH=ISO/LINUX
# VMWARE_VOLUMES_PATH=/vmfs/volumes
# VMWARE_DATASTORE_PATH=${VMWARE_VOLUMES_PATH}/${VMWARE_DATASTORE}
# VMWARE_ISO_UPLOAD_PATH=${VMWARE_DATASTORE_PATH}/${VMWARE_ISO_DIRPATH}

#================================
# Notes:
#================================
# 1. Network Requirements:
#    - For local laptop use: Cloudflare WARP or Tailscale recommended
#    - SSH target must be reachable when UPLOAD_CUSTOM_ISO=true
#
# 2. Directory Structure:
#    - config/    : Debian version-specific configurations (read-only)
#    - preseeds/  : Preseed templates and files (read-only)
#    - ISOs/      : Source and custom ISO files (read-write)
#
# 3. First Run:
#    - Ensure AUTO_INSTALL_DEPS=true for automatic dependency installation
#    - Test with UPLOAD_CUSTOM_ISO=false first to verify ISO creation
#    - Then enable upload and test SSH connectivity
#
# 4. Security:
#    - Never commit .env to version control (add to .gitignore)
#    - Use SSH key authentication, not passwords
#    - Keep preseed files secure (they contain system credentials)
#================================
